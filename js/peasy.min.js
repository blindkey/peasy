var exports,module,require,_ref,__indexOf=[].indexOf||function(item){for(var i=0,l=this.length;l>i;i++)if(i in this&&this[i]===item)return i;return-1},__slice=[].slice;"object"==typeof window&&(_ref=twoside("/peasy"),require=_ref.require,exports=_ref.exports,module=_ref.module),function(require,exports){var Charset,Parser,charset,digits,letterDigits,letters,lowers,uppers;return exports.Parser=Parser=function(){function Parser(){var base,self;self=this,base=this.base={},this.ruleIndex=0,base.parse=this.parse=function(data,root,cur){return null==root&&(root=self.root),null==cur&&(cur=0),self.data=data,self.cur=cur,self.ruleStack={},self.cache={},root()},base.rec=this.rec=function(rule){var tag;return tag=self.ruleIndex++,function(){var cache,callStack,m,result,ruleStack,start,_base;if(ruleStack=self.ruleStack,cache=null!=(_base=self.cache)[tag]?(_base=self.cache)[tag]:_base[tag]={},start=self.cur,callStack=null!=ruleStack[start]?ruleStack[start]:ruleStack[start]=[],__indexOf.call(callStack,tag)<0){for(callStack.push(tag),m=null!=cache[start]?cache[start]:cache[start]=[void 0,start];;){if(self.cur=start,result=rule(),!result){result=m[0],self.cur=m[1];break}if(m[1]===self.cur){m[0]=result;break}m[0]=result,m[1]=self.cur}return callStack.pop(),result}return m=cache[start],self.cur=m[1],m[0]}},base.memo=this.memo=function(rule){var tag;return tag=self.ruleIndex++,function(){var cache,m,result,start,_base;return cache=null!=(_base=self.cache)[tag]?(_base=self.cache)[tag]:_base[tag]={},start=self.cur,m=cache[start],m?(self.cur=m[1],m[0]):(result=rule(),self.cache[tag][start]=[result,self.cur],result)}},base.orp=this.orp=function(){var item,items;return items=1<=arguments.length?__slice.call(arguments,0):[],items=function(){var _i,_len,_results;for(_results=[],_i=0,_len=items.length;_len>_i;_i++)item=items[_i],"string"==typeof item?_results.push(self.literal(item)):_results.push(item);return _results}(),function(){var length,result,start,_i,_len;for(start=self.cur,length=items.length,_i=0,_len=items.length;_len>_i;_i++)if(item=items[_i],self.cur=start,result=item())return result}},base.andp=this.andp=function(){var item,items;return items=1<=arguments.length?__slice.call(arguments,0):[],items=function(){var _i,_len,_results;for(_results=[],_i=0,_len=items.length;_len>_i;_i++)item=items[_i],"string"==typeof item?_results.push(self.literal(item)):_results.push(item);return _results}(),function(){var result,_i,_len;for(_i=0,_len=items.length;_len>_i;_i++)if(item=items[_i],!(result=item()))return;return result}},base.notp=this.notp=function(item){return"string"==typeof item&&(item=self.literal(item)),function(){return!item()}},base.may=this.may=function(item){return"string"==typeof item&&(item=self.literal(item)),function(){var start,x;return start=self.cur,(x=item())?x:(self.cur=start,!0)}},base.any=this.any=function(item){return"string"==typeof item&&(item=self.literal(item)),function(){var result,x;for(result=[];x=item();)result.push(x);return result}},base.some=this.some=function(item){return"string"==typeof item&&(item=self.literal(item)),function(){var result,x;if(x=item()){for(result=[x];x=item();)result.push(x);return result}}},base.times=this.times=function(item,n){return"string"==typeof item&&(item=self.literal(item)),function(){var i,x;for(i=0;i++<n;){if(!(x=item()))return;result.push(x)}return result}},base.list=this.list=function(item,separator){return null==separator&&(separator=self.spaces),"string"==typeof item&&(item=self.literal(item)),"string"==typeof separator&&(separator=self.literal(separator)),function(){var result,x;if(x=item()){for(result=[x];separator()&&(x=item());)result.push(x);return result}}},base.listn=this.listn=function(item,n,separator){return null==separator&&(separator=self.spaces),"string"==typeof item&&(item=self.literal(item)),"string"==typeof separator&&(separator=self.literal(separator)),function(){var i,result,x;if(x=item()){for(result=[x],i=1;i++<n;){if(!separator()||!(x=item()))return;result.push(x)}return result}}},base.follow=this.follow=function(item){return"string"==typeof item&&(item=self.literal(item)),function(){var start,x;return start=self.cur,x=item(),self.cur=start,x}},base.literal=this.literal=function(string){return function(){var len,start,stop;return len=string.length,start=self.cur,self.data.slice(start,stop=start+len)===string?(self.cur=stop,!0):void 0}},base.char=this.char=function(c){return function(){return self.data[self.cur]===c?(self.cur++,c):void 0}},base.wrap=this.wrap=function(item,left,right){return null==left&&(left=self.spaces),null==right&&(right=self.spaces),"string"==typeof item&&(item=self.literal(item)),function(){var result;return left()&&(result=item()&&right())?result:void 0}},base.spaces=this.spaces=function(){var c,cur,data,len;for(data=self.data,len=0,cur=self.cur;;){if(!(c=data[cur++])||" "!==c&&"	"!==c)break;len++}return self.cur+=len,len+1},base.spaces1=this.spaces1=function(){var c,cur,data,len;for(data=self.data,cur=self.cur,len=0;;){if(!(c=data[cur++])||" "!==c&&"	"!==c)break;lent++}return self.cur+=len,len},base.eoi=this.eoi=function(){return self.cur===self.data.length},base.identifierLetter=this.identifierLetter=function(){var c;return c=self.data[self.cur],"$"===c||"_"===c||c>="a"&&"z">c||c>="A"&&"Z">=c||c>="0"&&"9">=c?(self.cur++,!0):void 0},base.followIdentifierLetter=this.followIdentifierLetter=function(){var c;return c=self.data[self.cur],("$"===c||"_"===c||c>="a"&&"z">c||c>="A"&&"Z">=c||c>="0"&&"9">=c)&&c},base.digit=this.digit=function(){var c;return c=self.data[self.cur],c>="0"&&"9">=c?(self.cur++,c):void 0},base.letter=this.letter=function(){var c;return c=self.data[self.cur],c>="a"&&"z">=c||c>="A"&&"Z">=c?(self.cur++,c):void 0},base.lower=this.lower=function(){var c;return c=self.data[self.cur],c>="a"&&"z">=c?(self.cur++,c):void 0},base.upper=this.upper=function(){var c;return c=self.data[self.cur],c>="A"&&"Z">=c?(self.cur++,c):void 0},base.identifier=this.identifier=function(){var c,cur,data,start;if(data=self.data,start=cur=self.cur,c=data[cur],c>="a"&&"z">=c||c>="A"&&"Z">=c||"$"===c||"_"===c){for(cur++;;){if(c=data[cur],!(c>="a"&&"z">=c||c>="A"&&"Z">=c||c>="0"&&"9">=c||"$"===c||"_"===c))break;cur++}return self.cur=cur,data.slice(start,cur)}},base.number=this.number=function(){var c,cur,data;if(data=self.data,cur=self.cur,c=data[cur],c>="0"&&"9">=c){for(cur++;;){if(c=data[cur],!(c>="0"&&"9">=c))break;cur++}return self.cur=cur,data.slice(start,cur)}},base.string=this.string=function(){var c,cur,quote,start,text;if(text=self.data,start=cur=self.cur,c=text[cur],'"'===c||"'"===c)for(quote=c,cur++;;)if(c=text[cur],"\\"===c)cur+=2;else{if(c===quote)return self.cur=cur+1,text.slice(start,+cur+1||9e9);if(!c)return}},base.select=this.select=function(item,actions){var action,defaultAction;return console.log("select"),(action=actions[item])?action():(defaultAction=actions["default"]||actions[""],defaultAction?defaultAction():void 0)}}return Parser}(),exports.debugging=!1,exports.testing=!1,exports.debug=function(message){return exports.debugging?console.log(message):void 0},exports.warn=function(message){return exports.debugging||exports.testing?console.log(message):void 0},Charset=function(string){var x,_i,_len;for(_i=0,_len=string.length;_len>_i;_i++)x=string[_i],this[x]=!0;return this},Charset.prototype.contain=function(char){return this.hasOwnProperty(char)},exports.charset=charset=function(string){return new Charset(string)},exports.inCharset=exports.in_=function(char,set){return exports.warn("peasy.inCharset(char, set) is deprecated, use set.contain(char) instead."),exports.warn(char+":"+set.hasOwnProperty(char)),set.hasOwnProperty(char)},exports.isdigit=function(c){return c>="0"&&"9">=c},exports.isletter=function(c){return c>="a"&&"z">=c||c>="A"&&"Z">=c},exports.islower=function(c){return c>="a"&&"z">=c},exports.isupper=function(c){return c>="A"&&"Z">=c},exports.isIdentifierLetter=function(c){return"$"===c||"_"===c||c>="a"&&"z">=c||c>="A"&&"Z">=c||c>="0"&&"9">=c},exports.digits=digits="0123456789",exports.lowers=lowers="abcdefghijklmnopqrstuvwxyz",exports.uppers=uppers="ABCDEFGHIJKLMNOPQRSTUVWXYZ",exports.letters=letters=lowers+uppers,exports.letterDigits=letterDigits=letterDigits}(require,exports,module);